<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>翻譯歌曲 — Label P</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar">
    <div class="nav-container">
      <a href="index.html" class="nav-logo">LABEL P</a>
      <div class="nav-links">
        <a href="songs.html">翻譯歌曲</a>
        <a href="playlist.html">影片歌單</a>
        <a href="merch.html">周邊商品</a>
        <a href="about.html">關於廠牌</a>
      </div>
    </div>
  </nav>

  <!-- HERO SEARCH (Spotify x Complex) -->
  <section class="search-hero">
    <div class="container search-hero-inner">
      <div class="hero-kicker">LABEL P / LYRICS & CULTURE</div>

      <h1 class="search-title">
        FIND A SONG.<br>
        UNDERSTAND IT.
      </h1>

      <p class="search-sub">
        輸入歌手或歌名，快速找到翻譯與 Reels。也可以先從熱門歌手開始探索。
      </p>

      <!-- 搜尋欄 -->
      <div class="search-bar">
        <input id="search" class="search-input" type="text" placeholder="Search artist or song…（例如：Drake / ZEZE）">
      </div>

      <!-- Trending chips -->
      <div class="trending">
        <span class="trending-label">Trending</span>
        <div class="chips">
          <button class="chip" type="button" data-q="Drake">Drake</button>
          <button class="chip" type="button" data-q="Travis Scott">Travis Scott</button>
          <button class="chip" type="button" data-q="Central Cee">Central Cee</button>
          <button class="chip" type="button" data-q="Don Toliver">Don Toliver</button>
          <button class="chip" type="button" data-q="Ice Spice">Ice Spice</button>
        </div>
      </div>
    </div>
  </section>

  <!-- CONTENT -->
  <section class="dark">
    <div class="container">

      <!-- ✅ Recently 區塊整段包起來，才可以整段隱藏 -->
      <section id="recently-section">
        <div class="section-head">
          <h2 class="section-title-left">Recently Translated</h2>
          <p class="section-hint">先逛一下最近更新，或用上面的搜尋直接切入。</p>
        </div>
        <div id="recent" class="grid"></div>
      </section>

      <!-- Results -->
      <div class="section-head" style="margin-top: 70px;">
        <h2 class="section-title-left">Search Results</h2>
        <p class="section-hint">輸入關鍵字後，結果會即時更新。</p>
      </div>
      <div id="results" class="grid"></div>

    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-nav">
        <div class="footer-group">
          <h4>內容</h4>
          <a href="songs.html">翻譯歌曲</a>
          <a href="playlist.html">影片歌單</a>
        </div>
        <div class="footer-group">
          <h4>關於</h4>
          <a href="about.html">關於廠牌</a>
          <a href="merch.html">周邊商品</a>
        </div>
        <div class="footer-group">
          <h4>社群</h4>
          <a href="mailto:labelpworkspace@gmail.com">聯絡合作</a>
          <a href="https://www.instagram.com/labelplyrics" target="_blank" rel="noopener">Instagram</a>
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      <p>&copy; 2025 LABEL P WORKSPACE. All Rights Reserved.</p>
    </div>
  </footer>

  <!-- Search Script -->
  <script src="search.js"></script>

  <!-- ✅ Recently 自動隱藏邏輯：有輸入就隱藏，清空就顯示 -->
  <script>
    (function () {
      const input = document.getElementById("search");
      const recentlySection = document.getElementById("recently-section");

      function toggleRecently() {
        if (!input || !recentlySection) return;
        const hasText = input.value.trim().length > 0;
        recentlySection.style.display = hasText ? "none" : "";
      }

      // 初始狀態
      toggleRecently();

      // 打字時
      input?.addEventListener("input", toggleRecently);
    })();
  </script>

  <!-- Chip click behavior (no framework) -->
  <script>
    document.addEventListener("click", (e) => {
      const btn = e.target.closest(".chip");
      if (!btn) return;
      const q = btn.getAttribute("data-q") || "";
      const input = document.getElementById("search");
      if (!input) return;
      input.value = q;
      input.dispatchEvent(new Event("input"));
      input.focus();
      window.scrollTo({ top: 0, behavior: "smooth" });
    });
  </script>
</body>
</html>
